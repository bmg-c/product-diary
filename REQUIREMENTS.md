# Требования

## Основные требования

1. Веб-сайт должен позволять пользователю добавлять продукт в реестр продуктов, с указанием его характеристик.
2. Веб-сайт должен позволять пользователю изменять характеристики продукта из реестра продуктов.
3. Веб-сайт должен позволять пользователю просматривать продукты из реестра продуктов.
4. Веб-сайт должен позволять пользователю добавлять продукт из реестра продуктов в аналитику своих затрат на определенный день.
5. Веб-сайт должен при добавлении продукта в аналитику своих затрат давать пользователю возможность указать часть купленного продукта как долг заимодателю или наоборот и указать определенного заимодателя.
6. Веб-сайт должен иметь удобную навигацию по добавленым продуктам.
7. Веб-сайт должен иметь раздел затрат, где выводятся затраты пользователя на определенные временные промежутки в понятном виде и с детальной аналитикой.
8. Веб-сайт должен релизовать вышеперечисленные требования в интуитивно понятном графическом интерфейсе.

## Функциональные требования

### Панель навигации

Должна быть создана панель навигации по сайту, позволяющая пользователю переходить на страницу реестра продуктов используя кнпоку "Реестр продуктов", на страницу аналитики затрат используя кнопку "Аналитика", а также на страницу личного кабинета или открыть [окно входа](#окно-входа-и-регстрации) (если пользователь не авторизирован).

### Страница реестра продуктов

Должна быть создана страница реестра продуктов, на которой пользователь имеет возможность:

- (Авторизованный пользователь) Добавить продукт используя кнопку "Добавить продукт". [Окно продукта](#окно-продукта).
- Искать продукт, используя поле поискового запроса над списком продукта. Поиск происходит следующим полям продукта: название, производитель, тип, создатель.
- Просматривать реестр продуктов как вертикальный список (таблица) [карточек продуктов](#карточка-продукта).
- Отсортировать продукты в списке продуктов по нажатию на название поля.

### Элементы продукта

Данная секция затрагивает различные функциональные элементы сущности [продукт](ENTITIES.md#продукт).

#### Окно продукта

Окно продукта должно быть реализовано как всплывающее окно, расположенное посередине экрана. Имеет три состояния:

1. Информационное. Дает пользователю возможность просмотреть полную информацию о продукте, состояющую из [полей продукта](ENTITIES.md#продукт) (не учитывая поля, необходимые для идентификации продукта). Имеет кнопку "Добавить новую версию продукта", при нажатии на которую состояние окна продукта меняется на Добавление с заполненными значениями из существующего продукта. (Создатель продукта) Имеет кнопку "Скрыть продукт", при нажатии на которую появляется окно подтверждения действия (Да/Вернуться). (Создатель продукта) Имеет кнопку "Изменить продукт", при нажатии на которую состояние окна продукта меняется на Изменение.
2. Добавление. Дает пользователю возможность добавлять продукт в реестр продуктов, заполнив форму, состояющую из [полей продукта](ENTITIES.md#продукт) (не учитывая поля, необходимые для идентификации продукта) и нажав на кнопку "Добавить продукт", которая отправляет запрос на добавление продукта в реестр продуктов. Если существует идентичный продукт, то должна выводиться ошибка, что такой продукт уже существует.
3. Изменение. Дает пользователю изменить [возможные для изменения поля продукта](ENTITIES.md#продукт). Отображено в виде формы с данными полями, с подсказками в виде текущей информации продукта соответствующих полей.

#### Карточка продукта

Карточка продукта должна быть реализована как контейнер, содержащий следующую информацию: название, прозводитель, тип, калорийность. При нажатии на карточку продукта открывается [окно продукта](#окно-продукта) в Информационном состоянии с переданными данными о продукте, представленном в карточке продукта.

### Окно входа и регистрации

(Неавторизованный пользователь).

Имеет два состояния:

1. Вход. Должно иметь два поля для ввода почты/никнейма и пароля/ключа, и кнопку "Вход", при нажатии на которую отправляется запрос на вход серверу. Если вход на сервер прошел неуспешно, то должна быть выведена ошибка. Также должно иметь кнопку перехода в окно регистрации.
2. Регстрация. Должно иметь поле для ввода почты и кнопку "Регистрация", при нажатию на которую поле ввода почты меняется на поле для ввода кода подтверждения и кнопка "Продолжить", при нажатии на которую отправляется запрос на регистрацию (код подтверждения должен быть отправлен на почту). Если при регистрации произошла ошибка, то должна быть выведена соответствующая ошибка. Также должно иметь кнпоку перехода в окно входа.

### Личный кабинет

(Авторизованный пользователь).

Должен выводить всю информацию о [пользователе](ENTITIES.md#пользователь), не включая идентификатор и ключ доступа. И давать пользователю возможность изменить никнейм, нажав на кнопку рядом с соответсвующим полем. При нажатии на данную кнопку поле становится активным для изменения и после нажатия кнопки "Применить" отправляется запрос на изменение имени пользователя. Если при изменение произошла ошибка, то эта ошибка должна быть выведена.

Должна быть возможность добавлять, редактировать и удалять [личностей](ENTITIES.md#заимодатель-или-должник).

### Страница аналитики затрат

(Авторизованный пользователь)

Должна иметь:

- Способ выбора дня (например, календарь).
- Аналитика дня (общее количество калорий, БЖУ, потраченного бюджета, долга другим людям).
- Возможность искать предметы, используя поле поискового запроса над списком продукта. Поиск происходит следующим полям предмета: название продукта, производитель продукта, тип продукта.
- Возможность добавить новый предмет по нажатию кнопки, которая откроет [окно предмета](#окно-предмета).
- Возможность просматривать список затрат как вертикальный список (таблица) [карточек предметов](#карточка-предмета).
- Возможность отсортировать предметы в списке продуктов по нажатию на название поля списка.

### Элементы предмета

Данная секция затрагивает различные функциональные элементы сущности [предмет](ENTITIES.md#предмет).

#### Окно предмета

Должно иметь:

- Поле для выбора продукта (поисковая строка). Также должна быть возможность добавить новый продукт в виде кнопки, которая переводит на [окно добавления продукта](#окно-продукта).
- Радио-выбор [типа предмета](ENTITIES.md#тип-предмета), который меняет поля далее.
- (Моя покупка) Поле цены продукта, поле количества продукта. Должна быть выведена итоговая затраченная сумма на предмет.
- (Покупка на долг) Поле цены продукта, поле количества продукта, выбор [заимодателя](ENTITIES.md#заимодатель-или-должник). Должна быть выведена итоговая затраченная сумма на предмет.
- (Покупка должника) Поле цены продукта, поле количества продукта, выбор [должника](ENTITIES.md#заимодатель-или-должник). Должна быть выведена итоговая затраченная сумма на предмет.
- (Новый предмет) кнопка добавления в список затрат на текущий день.
- (Редактирование предмета) кнопка сохранения изменений предмета из списка затрат текущего дня.

#### Карточка предмета

Карточка предмета должна быть реализована как контейнер, содержащий следующую информацию: название продукта, прозводитель продукта, тип, калорийность, тип предмета, итоговая затраченная сумма на предмет и имя заимодателя/должника. При нажатии на карточку предмета открывается [окно редактирования предмета](#окно-предмета).
